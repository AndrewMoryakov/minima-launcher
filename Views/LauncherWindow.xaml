<Window x:Class="MinimalistDesktop.Views.LauncherWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        mc:Ignorable="d"
        Title="Minimalist Desktop"
        WindowStyle="None"
        WindowState="Maximized"
        AllowsTransparency="True"
        Background="Transparent"
        ResizeMode="NoResize"
        ShowInTaskbar="False"
        Topmost="False"
        PreviewKeyDown="Window_PreviewKeyDown"
        PreviewMouseDown="Window_PreviewMouseDown"
        KeyDown="Window_KeyDown"
        Loaded="Window_Loaded"
        Activated="Window_Activated"
        Deactivated="Window_Deactivated">

    <Window.Resources>
        <!-- Bool to Visibility Converter -->
        <BooleanToVisibilityConverter x:Key="BoolToVisibilityConverter"/>

        <!-- Ð¡Ñ‚Ð¸Ð»ÑŒ Ð´Ð»Ñ ÑÐ»ÐµÐ¼ÐµÐ½Ñ‚Ð¾Ð² ÑÐ¿Ð¸ÑÐºÐ° -->
        <Style x:Key="AppItemStyle" TargetType="ListBoxItem">
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="FontSize" Value="24"/>
            <Setter Property="FontFamily" Value="Segoe UI Light"/>
            <Setter Property="Padding" Value="40,15"/>
            <Setter Property="Margin" Value="0,2"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="ListBoxItem">
                        <Border Background="{TemplateBinding Background}"
                                Padding="{TemplateBinding Padding}">
                            <ContentPresenter/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsSelected" Value="True">
                                <Setter Property="Background" Value="#30FFFFFF"/>
                            </Trigger>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter Property="Background" Value="#20FFFFFF"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
    </Window.Resources>

    <!-- ÐžÑÐ½Ð¾Ð²Ð½Ð¾Ð¹ ÐºÐ¾Ð½Ñ‚ÐµÐ¹Ð½ÐµÑ€ -->
    <Grid>
        <!-- Ð¤Ð¾Ð½ -->
        <Grid.Background>
            <SolidColorBrush Color="Black" Opacity="0.95"/>
        </Grid.Background>

        <!-- ÐŸÐ°Ð½ÐµÐ»ÑŒ Ð¸Ð½ÑÑ‚Ñ€ÑƒÐ¼ÐµÐ½Ñ‚Ð¾Ð² (Ð¿Ñ€Ð°Ð²Ñ‹Ð¹ Ð²ÐµÑ€Ñ…Ð½Ð¸Ð¹ ÑƒÐ³Ð¾Ð») -->
        <StackPanel x:Name="ToolbarPanel" Orientation="Horizontal"
                    HorizontalAlignment="Right"
                    VerticalAlignment="Top"
                    Margin="0,20,20,0">
            <!-- ÐšÐ½Ð¾Ð¿ÐºÐ° Ð²Ð¾ÑÑÑ‚Ð°Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ñ Windows Desktop -->
            <Button x:Name="RestoreDesktopButton"
                    Click="RestoreDesktopButton_Click"
                    Background="#30FFFFFF"
                    BorderThickness="0"
                    Padding="15,10"
                    Margin="0,0,10,0"
                    Cursor="Hand"
                    ToolTip="Ð’Ð¾ÑÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ñ‚ÑŒ ÐºÐ»Ð°ÑÑÐ¸Ñ‡ÐµÑÐºÐ¸Ð¹ Ñ€Ð°Ð±Ð¾Ñ‡Ð¸Ð¹ ÑÑ‚Ð¾Ð» Windows">
                <Button.Style>
                    <Style TargetType="Button">
                        <Setter Property="Template">
                            <Setter.Value>
                                <ControlTemplate TargetType="Button">
                                    <Border Background="{TemplateBinding Background}"
                                            CornerRadius="6"
                                            Padding="{TemplateBinding Padding}">
                                        <StackPanel Orientation="Horizontal">
                                            <TextBlock Text="ðŸ”„" FontSize="16" Margin="0,0,8,0" VerticalAlignment="Center"/>
                                            <TextBlock Text="Ð’Ð¾ÑÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ñ‚ÑŒ Ñ€Ð°Ð±Ð¾Ñ‡Ð¸Ð¹ ÑÑ‚Ð¾Ð»"
                                                       Foreground="White"
                                                       FontSize="14"
                                                       VerticalAlignment="Center"/>
                                        </StackPanel>
                                    </Border>
                                    <ControlTemplate.Triggers>
                                        <Trigger Property="IsMouseOver" Value="True">
                                            <Setter Property="Background" Value="#50FFFFFF"/>
                                        </Trigger>
                                        <Trigger Property="IsPressed" Value="True">
                                            <Setter Property="Background" Value="#60FFFFFF"/>
                                        </Trigger>
                                    </ControlTemplate.Triggers>
                                </ControlTemplate>
                            </Setter.Value>
                        </Setter>
                    </Style>
                </Button.Style>
            </Button>
        </StackPanel>

        <!-- ÐÐ¾Ð²Ð°Ñ ÑÑ‚Ñ€ÑƒÐºÑ‚ÑƒÑ€Ð°: ÑÐ¿Ð¸ÑÐ¾Ðº ÑÐ²ÐµÑ€Ñ…Ñƒ (Ñ€Ð°ÑÑˆÐ¸Ñ€ÑÐµÐ¼Ñ‹Ð¹), Ð¿Ð¾Ð¸ÑÐº Ð²Ð½Ð¸Ð·Ñƒ (Ñ„Ð¸ÐºÑÐ¸Ñ€Ð¾Ð²Ð°Ð½Ð½Ñ‹Ð¹), Ñ‡Ð°ÑÑ‹ Ð¿Ð¾Ð´ Ð¿Ð¾Ð¸ÑÐºÐ¾Ð¼ -->
        <Grid>
            <Grid.RowDefinitions>
                <!-- Ð¡Ð¿Ð¸ÑÐ¾Ðº Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ð¹ - Ñ€Ð°ÑÑˆÐ¸Ñ€ÑÐµÑ‚ÑÑ Ð²Ð²ÐµÑ€Ñ… -->
                <RowDefinition Height="*"/>
                <!-- ÐŸÐ¾Ð¸ÑÐº - Ñ„Ð¸ÐºÑÐ¸Ñ€Ð¾Ð²Ð°Ð½Ð½Ñ‹Ð¹ -->
                <RowDefinition Height="Auto"/>
                <!-- Ð§Ð°ÑÑ‹ - Ð¿Ð¾Ð´ Ð¿Ð¾Ð¸ÑÐºÐ¾Ð¼ -->
                <RowDefinition Height="Auto"/>
                <!-- ÐŸÐ¾Ð´ÑÐºÐ°Ð·ÐºÐ¸ -->
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>

            <!-- Ð¡Ð¿Ð¸ÑÐ¾Ðº Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ð¹ (Ñ€Ð°ÑÐºÑ€Ñ‹Ð²Ð°ÐµÑ‚ÑÑ Ð²Ð²ÐµÑ€Ñ…) -->
            <Grid Grid.Row="0" x:Name="AppListContainer" VerticalAlignment="Bottom">
                <ListBox x:Name="AppListBox"
                         ItemsSource="{Binding FilteredApps}"
                         SelectedItem="{Binding SelectedApp}"
                         Background="Transparent"
                         BorderThickness="0"
                         ItemContainerStyle="{StaticResource AppItemStyle}"
                         ScrollViewer.HorizontalScrollBarVisibility="Disabled"
                         ScrollViewer.VerticalScrollBarVisibility="Auto"
                         HorizontalAlignment="Center"
                         Width="600"
                         MaxHeight="300"
                         Margin="0,0,0,20"
                         MouseDoubleClick="AppListBox_MouseDoubleClick">
                    <ListBox.ItemTemplate>
                        <DataTemplate>
                            <StackPanel Orientation="Horizontal">
                                <TextBlock Text="ðŸ“Œ"
                                           FontSize="16"
                                           Margin="0,0,10,0"
                                           VerticalAlignment="Center"
                                           Visibility="{Binding IsPinned, Converter={StaticResource BoolToVisibilityConverter}}"/>
                                <TextBlock Text="{Binding Name}"
                                           TextTrimming="CharacterEllipsis"
                                           VerticalAlignment="Center"/>
                            </StackPanel>
                        </DataTemplate>
                    </ListBox.ItemTemplate>
                </ListBox>
            </Grid>

            <!-- ÐŸÐ¾Ð»Ðµ Ð¿Ð¾Ð¸ÑÐºÐ° (Ñ„Ð¸ÐºÑÐ¸Ñ€Ð¾Ð²Ð°Ð½Ð½Ð¾Ðµ Ð²Ð½Ð¸Ð·Ñƒ) -->
            <Border Grid.Row="1"
                    Background="#20FFFFFF"
                    CornerRadius="8"
                    Padding="20,15"
                    Margin="0,0,0,20"
                    HorizontalAlignment="Center"
                    Width="600">
                <TextBox x:Name="SearchBox"
                         Text="{Binding SearchQuery, UpdateSourceTrigger=PropertyChanged}"
                         FontSize="20"
                         Foreground="White"
                         Background="Transparent"
                         BorderThickness="0"
                         CaretBrush="White">
                    <TextBox.Style>
                        <Style TargetType="TextBox">
                            <Style.Resources>
                                <VisualBrush x:Key="HelpBrush" TileMode="None" Opacity="0.5" Stretch="None" AlignmentX="Left">
                                    <VisualBrush.Visual>
                                        <TextBlock Text="ÐŸÐ¾Ð¸ÑÐº Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ð¹..."
                                                   FontSize="20"
                                                   Foreground="White"/>
                                    </VisualBrush.Visual>
                                </VisualBrush>
                            </Style.Resources>
                            <Style.Triggers>
                                <Trigger Property="Text" Value="">
                                    <Setter Property="Background" Value="{StaticResource HelpBrush}"/>
                                </Trigger>
                                <Trigger Property="Text" Value="{x:Null}">
                                    <Setter Property="Background" Value="{StaticResource HelpBrush}"/>
                                </Trigger>
                            </Style.Triggers>
                        </Style>
                    </TextBox.Style>
                </TextBox>
            </Border>

            <!-- Ð§Ð°ÑÑ‹ (Ð¿Ð¾Ð´ Ð¿Ð¾Ð¸ÑÐºÐ¾Ð¼) -->
            <TextBlock Grid.Row="2"
                       x:Name="TimeDisplay"
                       Text="{Binding CurrentTime}"
                       FontSize="48"
                       FontWeight="Light"
                       Foreground="White"
                       HorizontalAlignment="Center"
                       Margin="0,0,0,30"/>

            <!-- ÐŸÐ¾Ð´ÑÐºÐ°Ð·ÐºÐ¸ -->
            <StackPanel Grid.Row="3"
                        Orientation="Horizontal"
                        HorizontalAlignment="Center"
                        Margin="0,0,0,30">
                <TextBlock Text="ESC" Foreground="#80FFFFFF" FontSize="14" Margin="0,0,10,0"/>
                <TextBlock Text="Ð·Ð°ÐºÑ€Ñ‹Ñ‚ÑŒ" Foreground="#60FFFFFF" FontSize="14" Margin="0,0,30,0"/>
                <TextBlock Text="ENTER" Foreground="#80FFFFFF" FontSize="14" Margin="0,0,10,0"/>
                <TextBlock Text="Ð·Ð°Ð¿ÑƒÑÑ‚Ð¸Ñ‚ÑŒ" Foreground="#60FFFFFF" FontSize="14" Margin="0,0,30,0"/>
                <TextBlock Text="CTRL+N" Foreground="#80FFFFFF" FontSize="14" Margin="0,0,10,0"/>
                <TextBlock Text="Ð´Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ" Foreground="#60FFFFFF" FontSize="14"/>
            </StackPanel>
        </Grid>
    </Grid>
</Window>
